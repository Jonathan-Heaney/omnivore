{% extends 'base.html' %}
{% load static crispy_forms_tags %}

{% block title %}Log in{% endblock %}

{% block content %}
<section class="container-narrow py-4">
  <header class="mb-4 center">
    <h1 class="page-title">Log in</h1>
    <p class="text-muted mb-0">Welcome back to Omnivore!</p>
  </header>

  <div class="form-card">
    <form method="post" novalidate>
      {% csrf_token %}

      {{ form|crispy }}

      {# Preserve ?next=... from the query string #}
      {% if next %}
        <input type="hidden" name="next" value="{{ next }}">
      {% endif %}

      <div class="d-flex gap-2 mt-3 align-items-center">
        <button type="submit" class="btn btn-cta">Log in</button>
        <a href="{% url 'password_reset' %}" class="btn btn-outline-secondary">Forgot password?</a>
      </div>

      <p class="small text-muted mt-3 mb-0">
        Donâ€™t have an account?
        <a href="{% url 'sign_up' %}">Create one</a>.
      </p>
    </form>
  </div>
</section>
{% endblock %}